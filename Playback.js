


var oneFrameOfData = nj.array([[[ 446.18947, 321.50321,   69.2611, 446.18947, 321.50321,   69.2611],
    [ 446.18947, 321.50321,   69.2611, 383.41553, 372.64716,   44.0964],
    [ 383.41553, 372.64716,   44.0964, 347.47022, 392.34904,   21.3424],
    [ 347.47022, 392.34904,   21.3424, 318.70855, 414.66886,   8.84314]],
    [[  467.4423, 385.67122,   63.0578, 420.37748, 458.30603,   5.31611],
        [ 420.37748, 458.30603,   5.31611, 393.29311, 466.12896,  -30.1881],
        [ 393.29311, 466.12896,  -30.1881, 375.62315, 446.74322,  -48.9135],
        [ 375.62315, 446.74322,  -48.9135, 362.56161, 421.25029,  -60.7317]],
    [[ 484.90247, 381.31444,    57.752, 453.86214, 441.08327,  -0.47524],
        [ 453.86214, 441.08327,  -0.47524, 432.86125, 455.02881,  -42.0152],
        [ 432.86125, 455.02881,  -42.0152, 414.92113, 438.21473,  -65.1427],
        [ 414.92113, 438.21473,  -65.1427, 400.90597, 415.00429,  -78.8777]],
    [[ 501.66991, 366.21609,   53.1961, 487.71022, 409.05902,  -1.39659],
        [ 487.71022, 409.05902,  -1.39659, 472.25866, 428.53729,  -40.2692],
        [ 472.25866, 428.53729,  -40.2692, 456.21622, 417.58751,  -63.3394],
        [ 456.21622, 417.58751,  -63.3394, 442.59909, 398.51408,  -77.4993]],
    [[ 514.82377, 327.70294,    49.904, 515.56381,  364.5235,  -1.27359],
        [ 515.56381,  364.5235,  -1.27359, 515.57233, 374.07757,  -32.9242],
        [ 515.57233, 374.07757,  -32.9242, 510.07357, 367.07588,  -50.1256],
        [ 510.07357, 367.07588,  -50.1256, 501.64182, 352.69466,  -64.4069]]])

var anotherFrameOfData = nj.array([[[ 415.26532, 275.32106,   87.0196, 415.26532, 275.32106,   87.0196],
    [ 415.26532, 275.32106,   87.0196,  359.5762, 321.53572,   55.1978],
    [  359.5762, 321.53572,   55.1978, 316.97562, 355.25426,   36.5604],
    [ 316.97562, 355.25426,   36.5604, 285.18292, 379.45975,   25.9969]],
    [[ 432.05849, 340.81423,   88.0275, 392.70368,  447.7524,   31.9364],
        [ 392.70368,  447.7524,   31.9364, 377.39259, 559.95193,   13.1278],
        [ 377.39259, 559.95193,   13.1278, 368.17135, 620.92459,   1.57301],
        [ 368.17135, 620.92459,   1.57301,  361.2674, 662.48107,  -7.21886]],
    [[ 451.40476,   347.554,   84.4231, 429.52444, 448.78828,   28.6459],
        [ 429.52444, 448.78828,   28.6459,  436.4355,  573.9232,   5.45266],
        [  436.4355,  573.9232,   5.45266, 439.84391, 645.77259,  -9.22819],
        [ 439.84391, 645.77259,  -9.22819, 441.67199, 691.92168,  -19.5371]],
    [[ 470.89493, 344.42669,   80.6796, 466.87444, 432.61414,   29.0518],
        [ 466.87444, 432.61414,   29.0518, 484.90284, 543.85318,   7.22709],
        [ 484.90284, 543.85318,   7.22709, 495.43455, 610.90672,  -7.32111],
        [ 495.43455, 610.90672,  -7.32111, 502.10854, 654.80704,  -17.7646]],
    [[ 488.67991, 319.58525,   76.0424, 499.13259, 403.32759,   28.8989],
        [ 499.13259, 403.32759,   28.8989, 538.30779, 463.06441,   12.0983],
        [ 538.30779, 463.06441,   12.0983, 559.53506, 494.22275,   1.92963],
        [ 559.53506, 494.22275,   1.92963, 577.81775, 520.03451,  -7.72719]]])


var xStart = 0;
var yStart = 0;
var zStart = 0;

var xEnd = 0;
var yEnd = 0;
var zEnd = 0;

var frameIndex = 0;
var flipFlop = 0;

function draw() {
    clear();

    if (flipFlop == 0) {
        for (var i = 0; i < oneFrameOfData.shape[0]; i++) {
            for (var j = 0; j < oneFrameOfData.shape[1]; j++) {
                xStart = oneFrameOfData.get(i, j, 3);
                yStart = oneFrameOfData.get(i, j, 4);
                zStart = oneFrameOfData.get(i, j, 5);
                xEnd = oneFrameOfData.get(i, j, 0);
                yEnd = oneFrameOfData.get(i, j, 1);
                zEnd = oneFrameOfData.get(i, j, 2);

                line(xStart, window.innerHeight - yStart, xEnd, window.innerHeight - yEnd);
            }
        }
    } else {
        for (var i = 0; i < anotherFrameOfData.shape[0]; i++) {
            for (var j = 0; j < anotherFrameOfData.shape[1]; j++) {
                xStart = anotherFrameOfData.get(i, j, 3);
                yStart = anotherFrameOfData.get(i, j, 4);
                zStart = anotherFrameOfData.get(i, j, 5);
                xEnd = anotherFrameOfData.get(i, j, 0);
                yEnd = anotherFrameOfData.get(i, j, 1);
                zEnd = anotherFrameOfData.get(i, j, 2);

                line(xStart, window.innerHeight - yStart, xEnd, window.innerHeight - yEnd);
            }
        }
    }


    frameIndex++;

    if (frameIndex >= 100) {
        frameIndex = 0;
        if (flipFlop == 1) {
            flipFlop = 0;
        } else {
            flipFlop = 1;
        }
    }
}